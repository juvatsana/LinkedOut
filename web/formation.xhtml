<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:head>
        <script type="text/javascript" src="ressources/js/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js"></script>
        <script type="text/javascript">



            $(document).ready(function () {
                $('#table').DataTable({
                    "scrollY": "200px",
                    "scrollCollapse": true,
                    "paging": false
                });
            });
            
            $(document).on('click', '#save', function (event) {
                //$("#save").next('br').after('<div id="validation" class="alert alert-success"><strong>Success!</strong> Votre formation a été enregistré.</div>');
                //$("#validation").delay(2000).fadeOut(500);
                alert("click save");
            });

        </script>
        
        <title>Welcome to LinkedOut</title>
        <!-- Bootstrap core CSS -->
        <link href="ressources/css/bootstrap.min.css" rel="stylesheet"></link>
        <!-- Custom styles for this template -->
        <link href="ressources/css/cover.css" rel="stylesheet"></link>
    </h:head>

    <h:body>

        <f:metadata>
            <f:viewAction action="#{formationBean.getFormation}" />
        </f:metadata>

        <div class="site-wrapper">

            <div class="site-wrapper-inner">

                <div class="cover-container">

                    <div class="masthead clearfix">
                        <div class="inner">
                            <h3 class="masthead-brand">LinkedOut HomePage</h3>
                            <nav>
                                <ul class="nav masthead-nav">
                                    <li class="active"><a href="#">Formation</a></li>
                                    <li><h:outputLink value="experience.xhtml">Experience</h:outputLink></li>
                                    <li><h:outputLink value="interest.xhtml">Interest</h:outputLink></li>
                                    <li><h:outputLink value="langage.xhtml">Langage</h:outputLink></li>
                                </ul>
                            </nav>
                        </div>
                    </div>

                    <h:form>

                        <div class="inner cover">
                            <h1 class="cover-heading">Formation</h1>


                            <div class="input-group">
                                <span class="input-group-addon" id="basic-addon1">Diplome</span>
                                <h:inputText id="degree" a:type="text" class="form-control" a:aria-describedby="basic-addon1" value="#{formationBean.diplome}"></h:inputText>
                            </div>
                            <br></br>
                            <div class="input-group">
                                <span class="input-group-addon" id="basic-addon1">Ecole</span>
                                <h:inputText id="school" a:type="text" class="form-control" a:aria-describedby="basic-addon1" value="#{formationBean.school}"></h:inputText>
                            </div>
                            <br></br>
                            <div class="input-group">
                                <span class="input-group-addon" id="basic-addon1">Année</span>
                                <h:inputText id ="year" a:type="text" class="form-control" a:aria-describedby="basic-addon1" value="#{formationBean.year}"></h:inputText>
                            </div>
                            <br></br>

                        </div>

                        <h:commandButton class="btn btn-success btn-lg" id="save" value="AJOUTER" action ="#{formationBean.saveFormation}" />
                        <br></br>
                    </h:form>
                    <br></br>
                    <br></br>


                    <div class="table-responsive">          
                        <table id="table" class="table">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Diplome</th>
                                    <th>Ecole</th>
                                    <th>Année</th>
                                    <th>Modifier</th>
                                    <th>Supprimer</th>
                                </tr>
                            </thead>
                            <tbody>
                                <c:forEach items="${formationBean.list}" var="item">
                                    <tr>
                                        <td>${item.value.id}</td>
                                        <td>${item.value.diplome}</td>
                                        <td>${item.value.school}</td>
                                        <td>${item.value.year}</td>
                                        <td>
                                            <button id="${item.value.id}" type="button" class="btn btn-default btn-sm">
                                                <span class="glyphicon-pencil"></span> Modifier
                                            </button>
                                        </td>
                                        <td>
                                            <button id="${item.value.id}" type="button" class="btn btn-default btn-sm">
                                                <span class=""></span> Supprimer
                                            </button>
                                        </td>
                                    </tr>
                                </c:forEach>
                            </tbody>
                        </table>
                    </div>

                    <br></br>
                </div>

            </div>

        </div>
    </h:body>
</html>
